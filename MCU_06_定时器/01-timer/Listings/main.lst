C51 COMPILER V9.54   MAIN                                                                  10/22/2023 12:39:54 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\Software\keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\List
                    -ings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include <REGX52.H>
   2          
   3          
   4          
   5          /*
   6          å®šæ—¶å™¨(CPUå†…éƒ¨èµ„æº)
   7              51å•ç‰‡æœºçš„å®šæ—¶å™¨å±žäºŽå•ç‰‡æœºçš„å†…éƒ¨èµ„æºï¼Œ
   8              å…¶ç”µè·¯çš„è¿žæŽ¥å’Œè¿è½¬å‡åœ¨å•ç‰‡æœºå†…éƒ¨å®Œæˆã€‚
   9              å®šæ—¶å™¨ä¸ªæ•°ï¼š3ä¸ªï¼ˆT0ã€T1ã€T2ï¼‰ï¼ŒT0å’ŒT1ä¸Žä¼ ç»Ÿçš„51å•ç‰‡æœºå…¼å®¹ï¼Œ
  10              å®šæ—¶å™¨çš„èµ„æºå’Œå•ç‰‡æœºçš„åž‹å·æ˜¯å…³è”åœ¨ä¸€èµ·çš„
  11          
  12            æ—¶é’Ÿ æä¾›è®¡æ•°å•å…ƒçš„æ—¶é’Ÿè„‰å†²
  13                 å³æ™¶æŒ¯å‘¨æœŸï¼Œæœ¬å¼€å‘æ¿ä¸Šçš„æ™¶æŒ¯ä¸º11.0592MHz
  14            è®¡æ•°å•å…ƒ æ—¶é’Ÿè®¡æ•°
  15            ä¸­æ–­ äº§ç”Ÿä¸­æ–­ï¼Œæ‰§è¡Œå®šæ—¶ä»»åŠ¡
  16                 ä¸­æ–­æºä¸ªæ•°ï¼š8ä¸ªï¼ˆå¤–éƒ¨ä¸­æ–­0ã€å®šæ—¶å™¨0ä¸­æ–­ã€å¤–éƒ¨ä¸­æ–­1ã€å®šæ—¶å™¨1ä¸­æ–­ã€ä¸²å£ä
             -¸­æ–­ã€å®šæ—¶å™¨2ä¸­æ–­ã€å¤–éƒ¨ä¸­æ–­2ã€å¤–éƒ¨ä¸­æ–­3ï¼‰
  17                 ä¸­æ–­ä¼˜å…ˆçº§ä¸ªæ•°ï¼š4ä¸ª
  18                 ä¸­æ–­çš„èµ„æºå’Œå•ç‰‡æœºçš„åž‹å·æ˜¯å…³è”åœ¨ä¸€èµ·çš„
  19            
  20            å®šæ—¶å™¨ç›¸å…³å¯„å­˜å™¨
  21              å¯„å­˜å™¨æ˜¯è¿žæŽ¥è½¯ç¡¬ä»¶çš„åª’ä»‹
  22              
  23            å•ç‰‡æœºå®šæ—¶å™¨åŽŸç†
  24              å®šæ—¶/è®¡æ•°å™¨çš„å®žè´¨æ˜¯åŠ 1 è®¡æ•°å™¨ï¼ˆ16 ä½ï¼‰ï¼Œ
  25              ç”±é«˜8 ä½å’Œä½Ž8 ä½ä¸¤ä¸ªå¯„å­˜å™¨THx å’ŒTLx ç»„æˆã€‚
  26              å®ƒéšç€è®¡æ•°å™¨çš„è¾“å…¥è„‰å†²è¿›è¡Œè‡ªåŠ 1ï¼Œ
  27              ä¹Ÿå°±æ˜¯æ¯æ¥ä¸€ä¸ªè„‰å†²ï¼Œè®¡æ•°å™¨å°±è‡ªåŠ¨åŠ 1ï¼Œ
  28              å½“åŠ åˆ°è®¡æ•°å™¨ä¸ºå…¨1 æ—¶ï¼Œå†è¾“å…¥ä¸€ä¸ªè„‰å†²å°±ä½¿è®¡æ•°å™¨å›žé›¶ï¼Œ
  29              ä¸”è®¡æ•°å™¨çš„æº¢å‡ºä½¿ç›¸åº”çš„ä¸­æ–­æ ‡å¿—ä½ç½®1ï¼Œ
  30              å‘CPU å‘å‡ºä¸­æ–­è¯·æ±‚ï¼ˆå®šæ—¶/è®¡æ•°å™¨ä¸­æ–­å…è®¸æ—¶ï¼‰ï¼›
  31              
  32            å®šæ—¶/è®¡æ•°å™¨çš„å¯„å­˜å™¨
  33            TMOD å·¥ä½œæ–¹å¼å¯„å­˜å™¨,ä¸å¯ä½å¯»å€ï¼Œå¿…é¡»åŒæ—¶èµ‹å€¼
  34              TCON æŽ§åˆ¶å¯„å­˜å™¨
  35              
  36          */
  37          
  38          // T0 åˆå§‹åŒ–å‡½æ•°
  39          void Timer0_Init(void)    //1æ¯«ç§’@11.0592MHz
  40          {
  41   1        // è®¾ç½®å®šæ—¶å™¨T0 çš„01æ¨¡å¼(16ä½)
  42   1        // &ä¸Žè¿ç®— ä¸Ž0æœ‰å…³ï¼Œ|æˆ–è¿ç®— ä¸Ž1æœ‰å…³ï¼›
  43   1        TMOD &= 0xF0;     // é«˜å››ä½(T1)ä¸å˜ï¼Œä½Žå››ä½(T0)ç½®é›¶
  44   1        TMOD |= 0x01;     // é«˜å››ä½ä¸å˜ï¼Œæœ€ä½Žä½ç½®1
  45   1        
  46   1      //  TH0 = (0xffff-1000)/0xff;       //è®¾ç½®å®šæ—¶åˆå§‹å€¼
  47   1      //  TL0 = (0xffff-1000)%0xff+1;       //è®¾ç½®å®šæ—¶åˆå§‹å€¼
  48   1        TL0 = 0x66;       //è®¾ç½®å®šæ—¶åˆå§‹å€¼
  49   1        TH0 = 0xFC;       //è®¾ç½®å®šæ—¶åˆå§‹å€¼
  50   1      
  51   1        TF0 = 0;        //æ¸…é™¤TF0æ ‡å¿—
  52   1        TR0 = 1;        //å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶
  53   1        ET0 = 1;        //ä½¿èƒ½å®šæ—¶å™¨0ä¸­æ–­
C51 COMPILER V9.54   MAIN                                                                  10/22/2023 12:39:54 PAGE 2   

  54   1        EA=1;           //å…è®¸æ€»ä¸­æ–­
  55   1        PT0=0;          //ä¸­æ–­ä¼˜å…ˆçº§
  56   1      }
  57          
  58          
  59          
  60          int main()
  61          {
  62   1        Timer0_Init();
  63   1        while(1)
  64   1        {
  65   2          
  66   2        }
  67   1      
  68   1        return 0;
  69   1      }
  70          
  71          // è§¦å‘ä¸­æ–­åŽçš„æ“ä½œ
  72          unsigned int T0Count=0;
  73          void Timer0_Routine() interrupt 1
  74          {
  75   1      //  TH0=(0xffff-1000)/0xff;
  76   1      //  TL0=(0xffff-1000)%0xff+1;
  77   1        
  78   1        TL0 = 0x66;       //è®¾ç½®å®šæ—¶åˆå§‹å€¼
  79   1        TH0 = 0xFC;       //è®¾ç½®å®šæ—¶åˆå§‹å€¼
  80   1      
  81   1        T0Count++;
  82   1        if(T0Count>=1000){  // è®¡æ—¶ 1s
  83   2          T0Count=0;
  84   2          P2_4=~P2_4;
  85   2        }
  86   1      
  87   1      }
  88          
  89          
*** WARNING C294 IN LINE 68 OF main.c: unreachable code


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     68    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
